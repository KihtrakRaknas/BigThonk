(this["webpackJsonpbig-thonk"]=this["webpackJsonpbig-thonk"]||[]).push([[1],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(1),o=n(2),r=n(4),s=n(3),l=n(0),c=n.n(l),i=n(121),u=n.n(i),m=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={showText:!1},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.showTimeout=setTimeout((function(){return e.setState({showText:!0})}),500)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.showTimeout)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),this.state.showText?c.a.createElement("p",{className:"display-4"},"Geting the latest content!"):null,c.a.createElement(u.a,{type:"cubes",color:"#ffffff",height:"20%",width:"20%"}))}}]),n}(c.a.Component)},116:function(e,t,n){},118:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a=n(18),o=n(1),r=n(2),s=n(4),l=n(3),c=n(0),i=n.n(c),u=n(13),m=n(5),p=n(129),d=n(47),h=(n(116),n(124)),g=n(130),b=n(125),f=n(126),y=n(127),v=n(128);Promise.all([Promise.all([n.e(0),n.e(5)]).then(n.bind(null,325)),Promise.all([n.e(0),n.e(4)]).then(n.bind(null,323)),Promise.all([n.e(0),n.e(6)]).then(n.bind(null,324))]).then((function(){navigator.userAgent.includes("headless")||navigator.userAgent.includes("ReactSnap")||(window.ga("create","UA-56299659-2","auto"),window.ga("require","pageVisibilityTracker"),window.ga("require","outboundLinkTracker"),window.ga("require","urlChangeTracker",{fieldsObj:{dimension1:"virtual"}}),window.ga("send","pageview",{dimension1:"page load"}))})),e.appVersion=b.version;var E=function(t){Object(s.a)(b,t);var c=Object(l.a)(b);function b(){return Object(o.a)(this,b),c.apply(this,arguments)}return Object(r.a)(b,[{key:"componentDidMount",value:function(){fetch("https://kihtrak.com/clarity/meta.json").then((function(e){return e.json()})).then((function(t){var n=t.version;(function(e,t){for(var n=e.split(/\./g),a=t.split(/\./g);n.length||a.length;){var o=Number(n.shift()),r=Number(a.shift());if(o!==r)return o>r||isNaN(r)}return!1})(n,e.appVersion)?(console.log("We have a new version - ".concat(n,". Should force refresh")),console.log("Clearing cache and hard reloading..."),caches&&caches.keys().then((function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;console.log(o),caches.delete(o)}}catch(r){n.e(r)}finally{n.f()}})),window.location.reload(!0)):console.log("You already have the latest version - ".concat(n,". No cache refresh needed."))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return i.a.createElement(u.a,{basename:"/clarity"},i.a.createElement("nav",{className:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark"},i.a.createElement(u.b,{to:"/",style:{color:"white"},className:"navbar-brand"},i.a.createElement("img",{src:n(321),width:"25",height:"25",alt:"A Lack Of Clarity Logo"})," A Lack Of Clarity"),i.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},i.a.createElement("ul",{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(u.b,{to:"/",className:"nav-link"},"Home")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(u.b,{to:"/feed/",className:"nav-link"},"Feed")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(u.b,{to:"/about/",className:"nav-link"},"About")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(u.b,{to:"/authors/",className:"nav-link"},"Authors")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(u.b,{to:"/joinus/",className:"nav-link"},"Become An Author"))))),i.a.createElement(m.c,null,i.a.createElement(m.a,{exact:!0,path:"/feed",component:h.a}),"Authors",i.a.createElement(m.a,{exact:!0,path:"/about",component:f.a}),i.a.createElement(m.a,{exact:!0,path:"/authors",component:g.a}),i.a.createElement(m.a,{exact:!0,path:"/archive",component:y.a}),i.a.createElement(m.a,{exact:!0,path:"/joinus",component:v.a}),i.a.createElement(m.a,{path:"/:postId",component:d.a}),i.a.createElement(m.a,{exact:!0,path:"/",component:p.a})),i.a.createElement("footer",{className:"d-flex justify-content-between flex-wrap"},i.a.createElement("p",null,"View the full blog ",i.a.createElement(u.b,{to:"/archive/"},"archive")),i.a.createElement("p",null,"Follow us on Instagram for updates: ",i.a.createElement("a",{href:"https://www.instagram.com/alackofclarity/"},"@alackofclarity")),i.a.createElement("p",null,i.a.createElement("small",null,"\xa9 Copyright ",(new Date).getFullYear(),", A Lack Of Clarity"))))}}]),b}(i.a.Component)}).call(this,n(25))},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(19),o=n(1),r=n(2),s=n(4),l=n(3),c=n(0),i=n.n(c),u=n(11),m=n(47),p=(n(30),function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleScroll=function(e){document.body.scrollHeight-window.innerHeight-window.scrollY<500&&r.renderNewPost()},r.getPosts=function(){(!r.totalPosts||r.totalPosts>5*r.page)&&(r.page++,r.gettingNewsPosts=!0,fetch("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/?number=5&page="+r.page).then((function(e){return e.json()})).then((function(e){r.totalPosts=e.found,r.postsJSON||(r.postsJSON=[]),r.postsJSON=r.postsJSON.concat(e.posts),r.gettingNewsPosts=!1,r.renderNewPost()})).catch((function(){fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/?number=5&page="+r.page)).then((function(e){return e.json()})).then((function(e){r.totalPosts=e.found,r.postsJSON||(r.postsJSON=[]),r.postsJSON.concat(e.posts),r.gettingNewsPosts=!1,r.renderNewPost()}))})))},r.renderNewPost=function(){var e=[];r.state.posts&&(e=Object(a.a)(r.state.posts)),r.postsJSON&&r.postsJSON.length>0?(e.push(i.a.createElement(m.a,{post:r.postsJSON[0]})),r.postsJSON.splice(0,1),r.setState({posts:e})):r.postsJSON&&0==r.postsJSON.length&&(r.gettingNewsPosts||r.getPosts())},r.resetPageTags=function(e){document.title="Feed A Lack Of Clarity!",document.querySelectorAll('[property="og:title"]')[0].setAttribute("content","Feed - A Lack Of Clarity!"),document.getElementsByTagName("meta").namedItem("author").setAttribute("content","Karthik Sankar"),document.getElementsByTagName("meta").namedItem("description").setAttribute("content","A blog written by some high schoolers. Exploring the topics we find interesting. Read if you dare."),document.querySelectorAll('[property="og:description"]')[0].setAttribute("content","This is the blog feed, it lets you veiw our posts all on one page!"),document.querySelectorAll('[property="og:image"]')[0].setAttribute("content","logo512.png"),document.querySelectorAll('[property="og:type"]')[0].setAttribute("content","website"),document.querySelectorAll('[property="og:url"]')[0].setAttribute("content",window.location.href)},r.state={},r.page=0,r.getPosts(),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return i.a.createElement("div",{id:"feed-screen",className:"App container"},i.a.createElement("div",{id:"Posts",className:"row"},this.state.posts?this.state.posts:i.a.createElement(u.a,null)))}}]),n}(i.a.Component))},125:function(e){e.exports=JSON.parse('{"name":"big-thonk","version":"9.0.42","private":true,"homepage":"https://kihtrak.com/clarity","dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","autotrack":"^2.4.1","colorthief":"^2.3.0","firebase":"^7.15.0","react":"^16.13.1","react-dom":"^16.13.1","react-ga":"^2.7.0","react-html-parser":"^2.0.2","react-loading":"^2.0.3","react-masonry-component":"^6.2.1","react-router-dom":"^5.2.0","react-scripts":"3.4.1","react-share":"^4.1.0","reading-time":"^1.2.0","text-readability":"^1.0.5"},"scripts":{"start":"react-scripts start","build":"react-scripts build ","postbuild":"react-snap","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build","generate-build-version":"node generate-build-version","prebuild":"npm version patch --force && npm run generate-build-version"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^2.2.0","react-snap":"^1.23.0"}}')},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),o=n(2),r=n(4),s=n(3),l=n(0),c=n.n(l),i=n(12),u=n.n(i),m=n(11),p=(n(67),n(30)),d=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={comments:[]},o.getPost=function(){console.log("about"),console.log("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:about"),fetch("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:about").then((function(e){return e.json()})).then((function(e){o.updatePageTags(e),console.log("page tags updated"),o.setState({content:e.content,err:!1}),console.log("STATE UPDATED")})).catch((function(e){console.log("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:about")),fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:about")).then((function(e){return e.json()})).then((function(e){o.updatePageTags(e),o.setState({content:e.content,err:!1}),"about"!==o.postId&&o.checkFirebase()})).catch((function(e){console.log(e),o.setState({err:!0})}))}))},o.updatePageTags=function(e){document.querySelectorAll('[property="article:published_time"]').length>0&&document.querySelectorAll('[property="article:published_time"]')[0].remove(),document.querySelectorAll('[property="article:modified_time"]').length>0&&document.querySelectorAll('[property="article:modified_time"]')[0].remove(),document.title="About - A Lack Of Clarity!",document.querySelectorAll('[property="og:title"]')[0].setAttribute("content","About - A Lack Of Clarity!"),document.getElementsByTagName("meta").namedItem("author").setAttribute("content","Karthik Sankar"),document.getElementsByTagName("meta").namedItem("description").setAttribute("content","The about page for A Lack Of Clarity"),document.querySelectorAll('[property="og:description"]')[0].setAttribute("content","The about page for A Lack Of Clarity"),document.querySelectorAll('[property="og:image"]')[0].setAttribute("content",e.post_thumbnail?e.post_thumbnail.URL:""),document.querySelectorAll('[property="og:type"]')[0].setAttribute("content","website"),document.querySelectorAll('[property="og:url"]')[0].setAttribute("content","https://kihtrak.com/clarity/about/"),document.querySelectorAll('[rel="canonical"]')[0].setAttribute("href","https://kihtrak.com/clarity/about/")},o.getPost(),o}return Object(o.a)(n,[{key:"render",value:function(){return this.state.err?c.a.createElement("div",{id:"about-err-screen",className:"App container"},c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("h1",{className:"text-center"},"Page had trouble loading. Try again later."),c.a.createElement("h3",{className:"text-center"},"Double check your link!")):this.state.content?c.a.createElement("div",{class:"all-screen-container"},c.a.createElement("div",{id:"about-screen",className:"App container"},c.a.createElement("br",null),u()(this.state.content),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(p.a,null),c.a.createElement("br",null),c.a.createElement("br",null))):c.a.createElement(m.a,null)}}]),n}(c.a.Component)},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(18),o=n(19),r=n(1),s=n(2),l=n(4),c=n(3),i=n(0),u=n.n(i),m=n(11),p=n(13),d=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).getPosts=function(){s.page++,console.log(s.page);var e="https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/?order=ASC&number=100&page="+s.page;fetch(e).then((function(e){return e.json()})).then((function(e){s.updateWithPostsJSON(e)})).catch((function(t){console.log(t),fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent(e)).then((function(e){return e.json()})).then((function(e){s.updateWithPostsJSON(e)})).catch((function(e){console.log(e)}))}))},s.updateWithPostsJSON=function(e){var t,n=Object(o.a)(s.state.posts),r=Object(a.a)(e.posts);try{for(r.s();!(t=r.n()).done;){var l=t.value;n.push(u.a.createElement("p",{key:l.slug},u.a.createElement(p.b,{to:"/"+l.slug+"/"},"".concat(new Date(l.date).toLocaleDateString()," - ").concat(l.title," by: ").concat(l.author.first_name+" "+l.author.last_name))))}}catch(c){r.e(c)}finally{r.f()}s.setState({posts:n}),(e.meta.next_page||e.found>100*s.page)&&s.getPosts()},s.resetPageTags=function(){document.querySelectorAll('[property="article:published_time"]').length>0&&document.querySelectorAll('[property="article:published_time"]')[0].remove(),document.querySelectorAll('[property="article:modified_time"]').length>0&&document.querySelectorAll('[property="article:modified_time"]')[0].remove(),document.title="A Lack Of Clarity!",document.querySelectorAll('[property="og:title"]')[0].setAttribute("content","A Lack Of Clarity! - Archive"),document.getElementsByTagName("meta").namedItem("author").setAttribute("content","Karthik Sankar"),document.getElementsByTagName("meta").namedItem("description").setAttribute("content","An archive of all the posts on this blog"),document.querySelectorAll('[property="og:description"]')[0].setAttribute("content","An archive of all the posts on this blog"),document.querySelectorAll('[property="og:image"]')[0].setAttribute("content","logo512.png"),document.querySelectorAll('[property="og:type"]')[0].setAttribute("content","website"),document.querySelectorAll('[property="og:url"]')[0].setAttribute("content","https://kihtrak.com/clarity/archive/"),document.querySelectorAll('[rel="canonical"]')[0].setAttribute("href","https://kihtrak.com/clarity/archive/")},s.state={posts:[]},s.page=0,s.getPosts(),s.resetPageTags(),s}return Object(s.a)(n,[{key:"render",value:function(){return u.a.createElement("div",{className:"all-screen-container"},u.a.createElement("div",{id:"achive-screen",className:"App container"},u.a.createElement("br",null),this.state.posts?this.state.posts:u.a.createElement(m.a,null)))}}]),n}(u.a.Component)},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(1),o=n(2),r=n(4),s=n(3),l=n(0),c=n.n(l),i=n(12),u=n.n(i),m=n(11),p=(n(67),n(30),function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).state={comments:[]},o.getPost=function(){console.log("join-us"),console.log("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:join-us"),fetch("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:join-us").then((function(e){return e.json()})).then((function(e){o.updatePageTags(e),console.log("page tags updated"),o.setState({content:e.content,err:!1}),console.log("STATE UPDATED")})).catch((function(e){console.log("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:join-us")),fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:join-us")).then((function(e){return e.json()})).then((function(e){o.updatePageTags(e),o.setState({content:e.content,err:!1}),"about"!==o.postId&&o.checkFirebase()})).catch((function(e){console.log(e),o.setState({err:!0})}))}))},o.updatePageTags=function(e){document.querySelectorAll('[property="article:published_time"]').length>0&&document.querySelectorAll('[property="article:published_time"]')[0].remove(),document.querySelectorAll('[property="article:modified_time"]').length>0&&document.querySelectorAll('[property="article:modified_time"]')[0].remove(),document.title="Join Us - A Lack Of Clarity!",document.querySelectorAll('[property="og:title"]')[0].setAttribute("content","Join Us - A Lack Of Clarity!"),document.getElementsByTagName("meta").namedItem("author").setAttribute("content","Karthik Sankar"),document.getElementsByTagName("meta").namedItem("description").setAttribute("content",'The "become a author" page for A Lack Of Clarity'),document.querySelectorAll('[property="og:description"]')[0].setAttribute("content",'The "become a author" page for A Lack Of Clarity'),document.querySelectorAll('[property="og:image"]')[0].setAttribute("content",e.post_thumbnail?e.post_thumbnail.URL:""),document.querySelectorAll('[property="og:type"]')[0].setAttribute("content","website"),document.querySelectorAll('[property="og:url"]')[0].setAttribute("content","https://kihtrak.com/clarity/joinus/"),document.querySelectorAll('[rel="canonical"]')[0].setAttribute("href","https://kihtrak.com/clarity/joinus/")},o.getPost(),o}return Object(o.a)(n,[{key:"render",value:function(){return this.state.err?c.a.createElement("div",{id:"about-err-screen",className:"App container"},c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("h1",{className:"text-center"},"Page had trouble loading. Try again later."),c.a.createElement("h3",{className:"text-center"},"Double check your link!")):this.state.content?c.a.createElement("div",{class:"all-screen-container"},c.a.createElement("div",{id:"join-us-screen",className:"App container"},c.a.createElement("br",null),u()(this.state.content),c.a.createElement("br",null),c.a.createElement("br",null))):c.a.createElement(m.a,null)}}]),n}(c.a.Component))},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(18),o=n(19),r=n(1),s=n(2),l=n(4),c=n(3),i=n(0),u=n.n(i),m=n(12),p=n.n(m),d=n(13),h=n(31),g=n(46),b=n(119),f=n(181),y=n(183),v=new b.a,E=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a;if(Object(r.a)(this,n),(a=t.call(this,e)).callColorTheif=function(e){var t=new Image;t.src=e,t.complete?a.colorImgDone(t):t.addEventListener("load",(function(){a.colorImgDone(t)}))},a.colorImgDone=function(e){a.colorArr=v.getColor(e),a.alpha=.05,"?showBtn=false"==window.location.search&&(a.alpha=.95);var t="rgba("+a.colorArr.toString()+","+a.alpha+")";a.setState({postColor:t,textColor:(299*a.colorArr[0]+587*a.colorArr[1]+114*a.colorArr[2])/1e3>=128?"black":"white"}),localStorage.setItem(a.props.img,"rgba("+a.colorArr.toString()+",1)"),setTimeout(a.incrementAlpha,50)},a.incrementAlpha=function(){a.alpha+=.05;var e="rgba("+a.colorArr.toString()+","+a.alpha+")";a.setState({postColor:e}),a.alpha<1&&setTimeout(a.incrementAlpha,50)},a.tag=function(e,t){return u.a.createElement("small",{key:e,style:{display:"inline-block",paddingLeft:5,paddingRight:5,marginLeft:5,marginRight:3,paddingBottom:2,borderRadius:5,backgroundColor:t||"white",color:t?"white":"black"}},e)},a.easeOfReading=function(e){var t=y.fleschReadingEase(e);return t>75?"Easy":t>50?"Intermediate":t>25?"Advanced":"Very Advanced"},a.state={postColor:"black",textColor:"white",views:0,comments:0},a.props.img)if(localStorage.getItem(a.props.img)){a.state.postColor=localStorage.getItem(a.props.img);var o=a.state.postColor.split(",").map((function(e){return Number(e.replace(/\D/g,""))}));a.state.textColor=(299*o[0]+587*o[1]+114*o[2])/1e3>=128?"black":"white"}else fetch("https://cors-anywhere.herokuapp.com/"+a.props.img).then((function(e){var t=new FileReader;t.onloadend=function(){"data:application/octet-stream;"!=t.result.substring(0,30)?a.callColorTheif(t.result):console.log("qouta hit")},e.blob().then((function(e){t.readAsDataURL(e)})),t.onerror=function(){console.log("failed")}}));return a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.a.database().ref(this.props.id).on("value",(function(t){var n=t.val();n&&e.setState({views:n.views?n.views:0,comments:n.comments&&Object.keys(n.comments).length>0?Object.keys(n.comments).length:0})}))}},{key:"render",value:function(){var e=[];if(this.props.categories)for(var t in this.props.categories)e.push(this.tag(t));return e.push(this.tag(f(this.props.content).text,"grey")),e.push(this.tag("Readability: "+this.easeOfReading(this.props.content.replace(/<[^>]*>?/gm,"")),"grey")),u.a.createElement(g.a,null,u.a.createElement("div",{className:"card",id:this.props.id,style:{backgroundColor:this.state.postColor}},this.props.img?u.a.createElement("img",{className:"card-img-top",src:this.props.img,alt:this.props.title}):null,u.a.createElement("div",{className:"card-body",style:{color:this.state.textColor}},u.a.createElement("h3",{className:"card-title"},u.a.createElement("strong",null,p()(this.props.title))),u.a.createElement("div",{className:"card-text categories",style:{textAlign:"center"}},e),u.a.createElement("div",{className:"card-text"},p()(this.props.text.replace(" [&hellip;]","..."))),u.a.createElement("div",{className:"btn-div"},"?showBtn=false"!==window.location.search?u.a.createElement(d.b,{to:"/"+this.props.id+"/",className:"btn btn btn-outline-".concat("black"==this.state.textColor?"dark":"light")},"Click Here to Read More"):null)),u.a.createElement("div",{className:"card-footer"},(this.props.name.trim()?this.props.name:"Anonymous Submission")+" - "+this.props.date.toLocaleDateString()+" - \ud83d\udc40"+("?showBtn=false"!==window.location.search?this.state.views+" \ud83d\udcac"+this.state.comments:""))))}}]),n}(u.a.Component),k=n(11),w=n(30),A=n(122),S=n.n(A),O=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleScroll=function(){0!=s.readyToCheckForMore&&s.isMore&&window.scrollY+3*window.innerHeight>document.body.scrollHeight&&(console.log("RENDER MORE"+s.page),s.getPosts())},s.filterByCat=function(e){console.log(e.target.value),s.cat=e.target.value,s.page=0,s.setState({posts:[]}),s.getPosts()},s.getCategories=function(){var e="https://public-api.wordpress.com/rest/v1.1/sites/176343073/categories";fetch(e).then((function(e){return e.json()})).then((function(e){s.updateWithCategoriesJSON(e)})).catch((function(t){console.log(t),fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent(e)).then((function(e){return e.json()})).then((function(e){s.updateWithCategoriesJSON(e)})).catch((function(e){console.log(e)}))}))},s.updateWithCategoriesJSON=function(e){var t,n=Object(o.a)(s.state.categories),r=Object(a.a)(e.categories);try{for(r.s();!(t=r.n()).done;){var l=t.value;l.post_count>0&&n.push(u.a.createElement("option",{value:l.slug,key:l.slug},l.name))}}catch(c){r.e(c)}finally{r.f()}s.setState({categories:n})},s.getPosts=function(){s.page++,console.log(s.page),s.readyToCheckForMore=!1;var e="https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/?category="+s.cat+"&page="+s.page;console.log(e),fetch(e).then((function(e){return e.json()})).then((function(e){s.updateWithPostsJSON(e)})).catch((function(t){console.log(t),fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent(e)).then((function(e){return e.json()})).then((function(e){s.updateWithPostsJSON(e)})).catch((function(e){console.log(e)}))}))},s.updateWithPostsJSON=function(e){e.meta.next_page||e.found>20*s.page?s.isMore=!0:s.isMore=!1,s.readyToCheckForMore=!0;var t,n=Object(o.a)(s.state.posts),r=Object(a.a)(e.posts);try{for(r.s();!(t=r.n()).done;){var l=t.value;n.push(u.a.createElement(E,{id:l.slug,text:l.excerpt,date:new Date(l.date),content:l.content,title:l.title,img:l.post_thumbnail?l.post_thumbnail.URL:null,name:l.author.first_name+" "+l.author.last_name,key:l.slug,categories:l.categories}))}}catch(c){r.e(c)}finally{r.f()}1==s.page&&"true"!=localStorage.getItem("hideEmailCard")&&n.splice(1,0,u.a.createElement(w.a,{key:"emailCard",card:!0})),s.setState({posts:n})},s.resetPageTags=function(){document.querySelectorAll('[property="article:published_time"]').length>0&&document.querySelectorAll('[property="article:published_time"]')[0].remove(),document.querySelectorAll('[property="article:modified_time"]').length>0&&document.querySelectorAll('[property="article:modified_time"]')[0].remove(),document.title="A Lack Of Clarity!",document.querySelectorAll('[property="og:title"]')[0].setAttribute("content","A Lack Of Clarity! - Home Page"),document.getElementsByTagName("meta").namedItem("author").setAttribute("content","Karthik Sankar"),document.getElementsByTagName("meta").namedItem("description").setAttribute("content","A blog written by some high schoolers. Exploring the topics we find interesting. Read if you dare."),document.querySelectorAll('[property="og:description"]')[0].setAttribute("content","Check out the blog!"),document.querySelectorAll('[property="og:image"]')[0].setAttribute("content","logo512.png"),document.querySelectorAll('[property="og:type"]')[0].setAttribute("content","website"),document.querySelectorAll('[property="og:url"]')[0].setAttribute("content","https://kihtrak.com/clarity/"),document.querySelectorAll('[rel="canonical"]')[0].setAttribute("href","https://kihtrak.com/clarity/")},s.state={posts:[],categories:[u.a.createElement("option",{value:"",key:"all"},"Show All Posts")]},s.readyToCheckForMore=!1,s.page=0,s.cat="",s.getPosts(),s.resetPageTags(),s.getCategories(),s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return u.a.createElement("div",{id:"home-screen",className:"App".concat("?showBtn=false"!==window.location.search?" container-fluid":"")},u.a.createElement("select",{id:"filter",className:"custom-select mt-2",onChange:this.filterByCat},this.state.categories),u.a.createElement(S.a,{className:"my-gallery-class",style:{padding:0}},this.state.posts.length>0?this.state.posts:u.a.createElement(k.a,null)))}},{key:"componentDidUpdate",value:function(){if(this.state.posts.length>0&&window.location.href.includes("#")){var e=window.location.href.substring(window.location.href.indexOf("#")+1);console.log(e),document.getElementById(e)&&document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})}}}]),n}(u.a.Component)},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(18),o=n(1),r=n(2),s=n(4),l=n(3),c=n(0),i=n.n(c),u=n(12),m=n.n(u),p=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"col-12 profile mt-2"},i.a.createElement("div",{className:"d-none d-md-flex flex-row rounded"},i.a.createElement("div",{className:"circular--landscape mt-2 mb-2"},i.a.createElement("img",{alt:this.props.name+" profile",src:this.props.image?this.props.image:"https://www.pngkit.com/png/detail/799-7998601_profile-placeholder-person-icon.png"})),i.a.createElement("div",{className:"pl-3 pt-2 pr-2 pb-2 w-75"},i.a.createElement("h3",null,this.props.name),m()("<p>"+this.props.description+"</p>"),this.props.link?i.a.createElement("p",{className:"text-right m-0"},i.a.createElement("a",{href:this.props.link,className:"btn btn-primary"},this.props.linktxt?this.props.linktxt:"My Link")):null)),i.a.createElement("div",{className:"d-block d-md-none rounded "},i.a.createElement("div",{className:"d-block mx-auto circular--landscape mt-2 mb-2 text-center"},i.a.createElement("img",{alt:"Placeholder profile",src:this.props.image?this.props.image:"https://www.pngkit.com/png/detail/799-7998601_profile-placeholder-person-icon.png"})),i.a.createElement("div",{className:"p2-3 pt-2 pr-3 pb-2"},i.a.createElement("h3",null,this.props.name),m()("<p>"+this.props.description+"</p>"),this.props.link?i.a.createElement("p",{className:"text-center m-0"},i.a.createElement("a",{href:this.props.link,className:"btn btn-primary"},this.props.linktxt?this.props.linktxt:"My Link")):null)))}}]),n}(i.a.Component),d=n(11),h=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).getAuthors=function(){fetch("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:authors").then((function(e){return e.json()})).then((function(e){r.readPostContent(e.content)})).catch((function(e){console.log("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:authors")),fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:authors")).then((function(e){return e.json()})).then((function(e){r.readPostContent(e.content)})).catch((function(e){console.log(e),r.setState({err:!0})}))}))},r.readPostContent=function(e){console.log(e),e=e.split(/<h[^>]>?/gm),console.log(e),e=e.map((function(e){var t={};if(e.includes('src="')){var n=e.substring(e.indexOf('src="')+5);n=n.substring(0,n.indexOf('"')),console.log(n),t.image=n}if(e.includes('href="')){var o=e.substring(e.indexOf('href="')+6);o=o.substring(0,o.indexOf('"')),console.log(o),t.link=o}var r,s=e.split(/<[^>]*>?/gm).filter((function(e){return""!==e.trim()})),l=Object(a.a)(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;c.split(":").length>1&&(console.log(c.substring(c.indexOf(":")+1).trim()),console.log(c),t[c.split(":")[0].toLowerCase()]=c.substring(c.indexOf(":")+1).trim())}}catch(i){l.e(i)}finally{l.f()}return t})),console.log(e);var t,n=[],o=Object(a.a)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;JSON.stringify(s)!==JSON.stringify({})&&n.push(i.a.createElement(p,{key:s.name,name:s.name?s.name:"",description:s.description?s.description:"",link:s.link?s.link:"",linktxt:s.linktxt?s.linktxt:"",image:s.image?s.image:""}))}}catch(l){o.e(l)}finally{o.f()}console.log(n),r.setState({authors:n})},r.resetPageTags=function(e){document.querySelectorAll('[property="article:published_time"]').length>0&&document.querySelectorAll('[property="article:published_time"]')[0].remove(),document.querySelectorAll('[property="article:modified_time"]').length>0&&document.querySelectorAll('[property="article:modified_time"]')[0].remove(),document.title="Authors - A Lack Of Clarity!",document.querySelectorAll('[property="og:title"]')[0].setAttribute("content","Authors - A Lack Of Clarity!"),document.getElementsByTagName("meta").namedItem("author").setAttribute("content","Karthik Sankar"),document.getElementsByTagName("meta").namedItem("description").setAttribute("content","A list of the authors at A Lack Of Clarity"),document.querySelectorAll('[property="og:description"]')[0].setAttribute("content","A list of the authors at A Lack Of Clarity"),document.querySelectorAll('[property="og:image"]')[0].setAttribute("content","logo512.png"),document.querySelectorAll('[property="og:type"]')[0].setAttribute("content","website"),document.querySelectorAll('[property="og:url"]')[0].setAttribute("content","https://kihtrak.com/clarity/authors/"),document.querySelectorAll('[rel="canonical"]')[0].setAttribute("href","https://kihtrak.com/clarity/authors/")},r.state={},r.getAuthors(),r.resetPageTags(),r}return Object(r.a)(n,[{key:"render",value:function(){return this.state.err?i.a.createElement("div",{id:"author-err-screen",className:"App container"},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("h1",{className:"text-center"},"Couldn't load in the information about our authors"),i.a.createElement("h3",{className:"text-center"},"Try again later!")):i.a.createElement("div",{className:"all-screen-container"},i.a.createElement("div",{id:"author-screen",className:"App container"},i.a.createElement("div",{id:"authors",className:"row pb-3 pt-2"},i.a.createElement("br",null),this.state.authors?this.state.authors:i.a.createElement(d.a,null),i.a.createElement("br",null))))}}]),n}(i.a.Component)},131:function(e,t,n){e.exports=n(322)},136:function(e,t,n){},161:function(e,t){},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1),o=n(2),r=n(4),s=n(3),l=n(0),c=n.n(l),i=n(46),u=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={show:!0,done:!1},e.submit=function(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(document.getElementById("emailInput").value)?fetch("https://bigthonk-emaillist.herokuapp.com/addEmail?email="+encodeURIComponent(document.getElementById("emailInput").value)+"&list="+encodeURIComponent(document.getElementById("listInput").value)).then((function(e){return e.json()})).then((function(t){console.log(t),t.done&&(e.setState({done:!0}),setTimeout(e.hideForever,1e3)),t.err&&alert(t.err)})):alert("Enter a valid email address!")},e.hideForever=function(){localStorage.setItem("hideEmailCard","true"),e.setState({show:!1})},e}return Object(o.a)(n,[{key:"render",value:function(){return this.state.show?this.state.done?c.a.createElement("h3",null,"Done!"):this.props.card?c.a.createElement(i.a,null,c.a.createElement("div",{className:"card",style:{backgroundColor:"blue"}},c.a.createElement("div",{className:"card-body"},c.a.createElement("h3",{className:"card-title"},c.a.createElement("strong",null,"Sign up for our email list!")),c.a.createElement("br",null),c.a.createElement("div",{className:"card-text"},c.a.createElement("input",{id:"emailInput",type:"email",className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter your email"}),c.a.createElement("select",{id:"listInput",className:"custom-select mb-2 mt-2"},c.a.createElement("option",{value:"32537"},"Updates every 3 days"),c.a.createElement("option",{value:"32535"},"Daily Updates"),c.a.createElement("option",{value:"32538"},"Updates once a week"),c.a.createElement("option",{value:"33054"},"Instant updates (1 email per blog post)")),c.a.createElement("button",{type:"button",className:"btn btn-success btn-block mb-3",onClick:this.submit},"Join!"),c.a.createElement("h6",null,"Or follow us on Instagram:"),c.a.createElement("button",{type:"button",className:"btn btn-danger btn-block",onClick:function(){return window.open("https://www.instagram.com/alackofclarity/","_blank")}},"Go to @alackofclarity"),c.a.createElement("button",{type:"button",className:"btn btn-link btn-block",onClick:this.hideForever},"Click here to hide this box forever"))))):c.a.createElement("div",null,c.a.createElement("h3",null,"Sign up for email updates:"),c.a.createElement("form",{className:"form-inline"},c.a.createElement("input",{id:"emailInput",type:"email",className:"form-control mr-2","aria-describedby":"emailHelp",placeholder:"Enter your email"}),c.a.createElement("select",{id:"listInput",className:"custom-select mb-2 mt-2 mr-2"},c.a.createElement("option",{value:"32537"},"Updates every 3 days"),c.a.createElement("option",{value:"32535"},"Daily updates"),c.a.createElement("option",{value:"32538"},"Updates once a week"),c.a.createElement("option",{value:"33054"},"Instant updates (1 email per blog post)")),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.submit},"Join!"))):null}}]),n}(c.a.Component)},31:function(e,t,n){"use strict";var a=n(68),o=n.n(a);n(179);o.a.initializeApp({apiKey:"AIzaSyBHgeNNvgO_HbYJ6NWNnVs8Y8Xbg0Xealw",authDomain:"big-thonk.firebaseapp.com",databaseURL:"https://big-thonk.firebaseio.com",projectId:"big-thonk",storageBucket:"big-thonk.appspot.com",messagingSenderId:"199147602141",appId:"1:199147602141:web:e1a0ff1fdf473a66ab5b34"}),t.a=o.a},321:function(e,t,n){e.exports=n.p+"static/media/LoCLogo.02e9f3ce.svg"},322:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(117),s=n.n(r),l=(n(136),n(118)),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=document.getElementById("root");s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,null)),u),function(e){if("serviceWorker"in navigator){if(new URL("/clarity",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/clarity","/service-worker.js");c?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):i(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):i(t,e)}))}}()},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),o=n(2),r=n(4),s=n(3),l=n(0),c=n.n(l),i=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).handleResize=function(){window.innerWidth<1800!=o.lastScreenWidth<1800&&(o.setState({small:window.innerWidth>=1800}),o.lastScreenWidth=window.innerWidth),window.innerWidth<=575!=o.lastScreenWidth<=450&&(o.setState({mobile:window.innerWidth<=575}),o.lastScreenWidth=window.innerWidth)},o.state={small:window.innerWidth>=1800,mobile:window.innerWidth<=450},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.lastScreenWidth=window.innerWidth,window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return c.a.createElement("div",{className:"mt-2 mb-2 col-sm-6"+(this.state.small?" col-xl-3":" col-xl-4")+(this.state.mobile?"":" pl-1 pr-1"),style:{margin:0,padding:0}},this.props.children)}}]),n}(c.a.Component)},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a=n(19),o=n(115),r=n(1),s=n(2),l=n(4),c=n(3),i=n(0),u=n.n(i),m=n(12),p=n.n(m),d=(n(11),function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).updateTime=function(){a.setState({time:a.getTimeElapsed(a.props.time)})},a.getTimeElapsed=function(e){if(!e)return"";var t=(new Date).getTime()-e;return(t=Math.floor(t/1e3))<60?(setTimeout(a.updateTime,1e3),t+" second".concat(1!=t?"s":""," ago")):(t=Math.floor(t/60))<60?(setTimeout(a.updateTime,6e4),t+" minute".concat(1!=t?"s":""," ago")):(t=Math.floor(t/60))<24?(setTimeout(a.updateTime,36e5),t+" hour".concat(1!=t?"s":""," ago")):(t=Math.floor(t/24))<7?(setTimeout(a.updateTime,864e5),t+" day".concat(1!=t?"s":""," ago")):(t=Math.floor(t/7))<365.25/7?(setTimeout(a.updateTime,6048e5),t+" week".concat(1!=t?"s":""," ago")):(setTimeout(a.updateTime,315576e5),(t=Math.floor(t/(365.25/7)))+" year".concat(1!=t?"s":""," ago"))},a.state={time:a.getTimeElapsed(a.props.time)},a}return Object(s.a)(n,[{key:"getColor",value:function(){return"hsl("+360*Math.random()+","+(25+70*Math.random())+"%,"+(85+10*Math.random())+"%)"}},{key:"render",value:function(){var e=this.getColor();return console.log(e),u.a.createElement("div",{className:"media-body p-2 shadow-sm rounded bg-dark mb-1",style:{borderColor:e,borderStyle:"solid",borderWidth:"1px"},itemprop:"comment"},u.a.createElement("small",{className:"float-right text-muted"},this.state.time),u.a.createElement("h5",{style:{paddingLeft:"10px",color:e},className:"mt-0 mb-1"},this.props.name),u.a.createElement("p",{style:{marginBottom:0}},this.props.text))}}]),n}(u.a.Component)),h=n(31),g=(n(67),n(116),n(327)),b=n(328),f=n(329),y=n(330),v=n(331),E=n(332),k=n(333),w=n(334),A=n(335),S=n(336),O=n(337),N=n(338),j=n(339),C=n(340),T=n(341),x=n(342),I=n(343),P=n(344),q=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e="Check out this blogpost: "+this.props.title,t='"'.concat(this.props.title,'" was written by ').concat(this.props.name,". Give it a read!"),n=["Blogpost","A Lack Of Clarity","High School Authors","Teen Writing"];return u.a.createElement("div",{className:"share-bar text-center"},u.a.createElement(g.a,{url:this.props.url,subject:e,body:"Here is the link:"},u.a.createElement(b.a,{size:32,round:!0})),u.a.createElement(f.a,{url:this.props.url,hashtag:"#ALackOfClarity",quote:t},u.a.createElement(y.a,{size:32,round:!0})),u.a.createElement(v.a,{url:this.props.url,title:this.props.title,summary:t,source:"A Lack Of Clarity (Blog)"},u.a.createElement(E.a,{size:32,round:!0})),u.a.createElement(k.a,{url:this.props.url,media:this.props.image,description:t},u.a.createElement(w.a,{size:32,round:!0})),u.a.createElement(A.a,{url:this.props.url,title:this.props.title},u.a.createElement(S.a,{size:32,round:!0})),u.a.createElement(O.a,{url:this.props.url,title:this.props.title},u.a.createElement(N.a,{size:32,round:!0})),u.a.createElement(j.a,{url:this.props.url,title:this.props.title,tags:n,caption:t},u.a.createElement(C.a,{size:32,round:!0})),u.a.createElement(T.a,{url:this.props.url,title:this.props.title,hashtags:n.map((function(e){return"#"+e}))},u.a.createElement(x.a,{size:32,round:!0})),u.a.createElement(I.a,{url:this.props.url,title:this.props.title},u.a.createElement(P.a,{size:32,round:!0})))}}]),n}(u.a.Component),L=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var s,l;return Object(r.a)(this,n),(s=t.call(this,e)).state={comments:[],commentsLength:0},s.commentInput=function(){return s.state.writing?u.a.createElement("div",null,u.a.createElement("input",{className:"form-control",id:"nameInput",placeholder:"Type your name here"}),u.a.createElement("br",null),u.a.createElement("textarea",{className:"form-control",id:"textInput",rows:"3",placeholder:"Type your comment here"}),u.a.createElement("br",null),u.a.createElement("button",{className:"btn btn btn-outline-success btn-block",onClick:s.post},"Post"),u.a.createElement("br",null)):u.a.createElement("div",null,u.a.createElement("button",{className:"btn btn btn-outline-success btn-block",onClick:function(){return s.setState({writing:!0})}},"Create Comment"),u.a.createElement("br",null))},s.post=function(){var e=h.a.database().ref(s.postId),t=document.getElementById("nameInput").value,n=document.getElementById("textInput").value;if(""===t.trim()||""===n.trim())alert("Please include a name and a comment before posting");else{var r=e.child("comments").push().key;s.oldKeys.push(r),e.child("comments").update(Object(o.a)({},r,{name:t,text:n,time:h.a.database.ServerValue.TIMESTAMP})),document.getElementById("textInput").value="";var l=Object(a.a)(s.state.comments);l.unshift(u.a.createElement(d,{name:t,text:n,time:(new Date).getTime(),key:n})),s.setState({comments:l,commentsLength:(s.commentsObj?Object.keys(s.commentsObj).length:0)+l.length,writing:!1})}},s.checkFirebase=function(){var e=h.a.database().ref(s.postId);navigator.userAgent.includes("headless")||navigator.userAgent.includes("ReactSnap")?console.log("User Agent: "+navigator.userAgent):e.child("views").transaction((function(e){return(e||0)+1})).catch((function(e){console.log("FIREBASE DIDN'T UPDATE"),console.log(e)})),e.child("comments").on("value",(function(e){var t=e.val()?e.val():{};if(s.oldKeys)for(var n in t)-1==s.oldKeys.indexOf(n)&&(s.commentsObj[n]=t[n]);else s.commentsObj=t;s.oldKeys=Object.keys(t),console.log("Number of unrendered comments:"+Object.keys(s.commentsObj).length),s.setState({commentsLength:Object.keys(s.commentsObj).length+s.state.comments.length}),0===s.state.comments.length&&s.get5Comments()}))},s.get5Comments=function(){var e=[];if(s.state.comments&&(e=Object(a.a)(s.state.comments)),s.commentsObj)for(var t=0;5!==t&&0!==Object.keys(s.commentsObj).length;t++){var n=Object.keys(s.commentsObj)[Math.floor(Math.random()*Object.keys(s.commentsObj).length)],o=JSON.parse(JSON.stringify(s.commentsObj[n]));delete s.commentsObj[n],e.push(u.a.createElement(d,{name:o.name?o.name:"No Name",text:o.text?o.text:"No Text",time:o.time,key:JSON.stringify(o)}))}console.log("Number of comment elements: "+e.length),s.setState({comments:e,commentsLength:(s.commentsObj?Object.keys(s.commentsObj).length:0)+e.length})},s.getPost=function(){if(s.props.post){var e=s.props.post;s.updatePageTags(e),s.state={name:e.author.first_name+" "+e.author.last_name,title:e.title,content:e.content,date:new Date(e.date),image:e.post_thumbnail?e.post_thumbnail.URL:"",err:!1,comments:[]},s.checkFirebase()}else{var t="about"===s.postId?"first-blog-post":s.postId;navigator.userAgent.includes("headless")?s.getPostFetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+t)).catch((function(e){console.log(e),s.setState({err:!0})})):s.getPostFetch("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+t).catch((function(e){console.log("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+t)),s.getPostFetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+t)).catch((function(e){console.log(e),s.setState({err:!0})}))}))}},s.getPostFetch=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){e.error?s.setState({err:!0}):(s.updatePageTags(e),console.log("page tags updated"),s.setState({name:e.author.first_name+" "+e.author.last_name,title:e.title,content:e.content,date:new Date(e.date),image:e.post_thumbnail?e.post_thumbnail.URL:"",err:!1}),console.log("STATE UPDATED"),"about"!==s.postId&&s.checkFirebase())}))},s.updatePageTags=function(e){if(document.title=e.title,document.querySelectorAll('[property="og:title"]')[0].setAttribute("content",e.title),document.getElementsByTagName("meta").namedItem("author").setAttribute("content",e.author.first_name+" "+e.author.last_name),document.querySelectorAll('[property="article:published_time"]').length>0)document.querySelectorAll('[property="article:published_time"]')[0].setAttribute("content",e.date);else{var t=document.createElement("meta");t.setAttribute("property","article:published_time"),t.setAttribute("content",e.date),document.head.appendChild(t)}if(document.querySelectorAll('[property="article:modified_time"]').length>0)document.querySelectorAll('[property="article:modified_time"]')[0].setAttribute("content",e.modified);else{var n=document.createElement("meta");n.setAttribute("property","article:modified_time"),n.setAttribute("content",e.modified),document.head.appendChild(n)}document.getElementsByTagName("meta").namedItem("description").setAttribute("content",e.excerpt?e.excerpt.replace(/<[^>]*>?/gm,"").replace(" [&hellip;]","..."):"A article titled: "+e.title),document.querySelectorAll('[property="og:description"]')[0].setAttribute("content",e.excerpt?e.excerpt.replace(/<[^>]*>?/gm,"").replace(" [&hellip;]","..."):"A article titled: "+e.title),document.querySelectorAll('[property="og:image"]')[0].setAttribute("content",e.post_thumbnail?e.post_thumbnail.URL:""),document.querySelectorAll('[property="og:type"]')[0].setAttribute("content","article"),document.querySelectorAll('[property="og:url"]')[0].setAttribute("content","https://kihtrak.com/clarity/"+e.slug+"/"),document.querySelectorAll('[rel="canonical"]')[0].setAttribute("href","https://kihtrak.com/clarity/"+e.slug+"/")},l=s.props.post?s.props.post.slug:s.props.match.params.postId,l=encodeURIComponent(l).toLowerCase(),console.log("Constructor Post ID:"+l),s.postId=l,s.getPost(),s}return Object(s.a)(n,[{key:"render",value:function(){return"about"===(this.props.match?this.props.match.params.postId:"feed")?u.a.createElement("div",{className:"App container"},u.a.createElement("br",null),p()(this.state.content)):(console.log(this.state.err?this.state.err:"No Errors"),this.state.err?u.a.createElement("div",{className:"App container"},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("h1",{className:"text-center"},"Couldn't find the post you are looking for"),u.a.createElement("h3",{className:"text-center"},"Double check your link!")):(console.log("rendering blogpost "),u.a.createElement("div",{className:"all-screen-container",itemScope:!0,itemType:"http://schema.org/BlogPosting"},u.a.createElement("div",{id:"blogpost-screen",className:"App container blogpost"},u.a.createElement("br",null),(this.state.content,u.a.createElement("div",null,u.a.createElement("h1",{className:"text-center",itemProp:"headline"},p()(this.state.title)),u.a.createElement("div",{className:"d-flex justify-content-between author-box"},u.a.createElement("p",{rel:"author"},this.state.name&&this.state.name.trim()?this.state.name:u.a.createElement("em",null,"Anonymous Submission")),this.state.date?u.a.createElement("p",null,u.a.createElement("span",null,"Published "),u.a.createElement("span",null,"".concat(this.state.date.toLocaleString("default",{month:"short",day:"numeric",year:"numeric"}),"   ").concat(this.state.date.toLocaleTimeString().replace(/([\d])(:[\d]{2})(:[\d]{2})(.*)/,"$1$4")))):null),u.a.createElement("hr",null),u.a.createElement("br",null),u.a.createElement("div",{itemProp:"articleBody"},p()(this.state.content)),u.a.createElement("br",null),u.a.createElement("hr",null),u.a.createElement(q,{url:"https://kihtrak.com/clarity/"+this.postId,title:this.state.title,name:this.state.name,image:this.state.image}),u.a.createElement("h2",{className:"text-center"},"Comments: ",u.a.createElement("span",{itemProp:"commentCount"},"(",this.state.commentsLength,")")," "),u.a.createElement("br",null),this.commentInput(),this.state.comments.length>0?u.a.createElement("div",null,this.state.comments,this.commentsObj&&Object.keys(this.commentsObj).length>0?u.a.createElement("button",{className:"btn btn btn-outline-info btn-block",onClick:this.get5Comments},"Show more comments"):null):u.a.createElement("p",null,u.a.createElement("em",null,"No comments yet. You could be the first!")),u.a.createElement("br",null)))))))}}]),n}(u.a.Component)},67:function(e,t,n){}},[[131,2,3]]]);
//# sourceMappingURL=main.2c82848a.chunk.js.map