(this["webpackJsonpbig-thonk"]=this["webpackJsonpbig-thonk"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(45),c=a.n(s),l=(a(55),a(9)),o=a(10),i=a(25),m=a(4),u=a(5),p=a(7),h=a(6),d=a(15),b=a.n(d),v=a(22),f=a.n(v);a(98);f.a.initializeApp({apiKey:"AIzaSyBHgeNNvgO_HbYJ6NWNnVs8Y8Xbg0Xealw",authDomain:"big-thonk.firebaseapp.com",databaseURL:"https://big-thonk.firebaseio.com",projectId:"big-thonk",storageBucket:"big-thonk.appspot.com",messagingSenderId:"199147602141",appId:"1:199147602141:web:e1a0ff1fdf473a66ab5b34"});var E=f.a,g=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={views:0,comments:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.database().ref(this.props.id).on("value",(function(t){var a=t.val();a&&e.setState({views:a.views?a.views:0,comments:a.comments?Object.keys(a.comments).length:0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"card"},this.props.img?r.a.createElement("img",{className:"card-img-top",src:this.props.img,alt:"Card image cap"}):null,r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title"},this.props.title),r.a.createElement("p",{className:"card-text"},b()(this.props.text)),r.a.createElement("div",{className:"btn-div"},r.a.createElement(l.b,{to:"/"+this.props.id},r.a.createElement("a",{className:"btn btn btn-outline-primary"},"Click Here to Read More")))),r.a.createElement("div",{className:"card-footer"},this.props.name+" - "+this.props.date.toLocaleDateString()+" - \ud83d\udc40"+this.state.views+" \ud83d\udcac"+this.state.comments)))}}]),a}(r.a.Component),y=a(48),k=a.n(y),w=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),n=t.call(this,e),setTimeout((function(){return n.setState({showText:!0})}),500),n.state={showText:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),this.state.showText?r.a.createElement("p",{className:"display-4"},"Geting the latest content!"):null,r.a.createElement(k.a,{type:"cubes",color:"#ffffff",height:"20%",width:"20%"}))}}]),a}(r.a.Component),N=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getPosts=function(){fetch("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/").then((function(e){return e.json()})).then((function(e){var t,a=[],s=Object(i.a)(e.posts);try{for(s.s();!(t=s.n()).done;){var c=t.value;console.log(c),a.push(r.a.createElement(g,{id:c.slug,text:c.excerpt,date:new Date(c.date),title:c.title,img:c.post_thumbnail?c.post_thumbnail.URL:null,name:c.author.first_name+" "+c.author.last_name,key:c.id}))}}catch(l){s.e(l)}finally{s.f()}n.setState({miniPosts:a})})).catch((function(){fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/")).then((function(e){return e.json()})).then((function(e){var t,a=[],s=Object(i.a)(e.posts);try{for(s.s();!(t=s.n()).done;){var c=t.value;console.log(c),a.push(r.a.createElement(g,{id:c.slug,text:c.excerpt,date:new Date(c.date),title:c.title,img:c.post_thumbnail?c.post_thumbnail.URL:null,name:c.author.first_name+" "+c.author.last_name,key:c.id}))}}catch(l){s.e(l)}finally{s.f()}n.setState({miniPosts:a})}))}))},n.state={},n.getPosts(),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App container"},r.a.createElement("div",{id:"Posts",className:"row"},this.state.miniPosts?this.state.miniPosts:r.a.createElement(w,null)))}}]),a}(r.a.Component),x=a(49),j=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"getColor",value:function(){return"hsl("+360*Math.random()+","+(25+70*Math.random())+"%,"+(85+10*Math.random())+"%)"}},{key:"render",value:function(){var e=this.getColor();return console.log(e),r.a.createElement("div",{className:"comment",style:{borderRadius:"5px",borderWidth:"2px",borderColor:e,color:e,borderStyle:"solid",padding:"5px"}},r.a.createElement("h5",{style:{paddingLeft:"10px",textDecoration:"underline"}},this.props.name),r.a.createElement("p",null,this.props.text))}}]),a}(r.a.Component),O=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n.commentInput=function(){return n.state.writing?r.a.createElement("div",null,r.a.createElement("input",{class:"form-control",id:"nameInput",placeholder:"Type your name here"}),r.a.createElement("br",null),r.a.createElement("textarea",{className:"form-control",id:"textInput",rows:"3",placeholder:"Type your comment here"}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn btn-outline-success btn-block",onClick:n.post},"Post"),r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn btn-outline-success btn-block",onClick:function(){return n.setState({writing:!0})}},"Create Comment"),r.a.createElement("br",null))},n.post=function(){var e=E.database().ref(n.props.match.params.postId),t=document.getElementById("nameInput").value,a=document.getElementById("textInput").value;if(""==t.trim()||""==a.trim())alert("Please include a name and a comment before posting");else{var r=e.child("comments").push().key;e.child("comments").update(Object(x.a)({},r,{name:t,text:a})),document.getElementById("textInput").value=""}},n.checkFirebase=function(){var e=E.database().ref(n.props.match.params.postId);e.child("views").transaction((function(e){return(e||0)+1})),e.child("comments").on("value",(function(e){var t=[],a=e.val();if(a)for(var s in a){var c=a[s];t.push(r.a.createElement(j,{name:c.name?c.name:"No Name",text:c.text?c.text:"No Text",key:JSON.stringify(c)}))}n.setState({comments:t})}))},n.getPost=function(){console.log("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+n.props.match.params.postId),fetch("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+n.props.match.params.postId).then((function(e){console.log(e),n.setState({name:e.author.first_name+" "+e.author.last_name,title:e.title,content:e.content,date:new Date(e.date),err:!1}),n.checkFirebase()})).catch((function(e){console.log("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+n.props.match.params.postId)),fetch("https://wordpress-redirect.herokuapp.com/?url="+encodeURIComponent("https://public-api.wordpress.com/rest/v1.1/sites/176343073/posts/slug:"+n.props.match.params.postId)).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({name:e.author.first_name+" "+e.author.last_name,title:e.title,content:e.content,date:new Date(e.date),err:!1}),n.checkFirebase()})).catch((function(e){n.setState({err:!0})}))}))},n.getPost(),n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.match.params.postId;return"about"==e||"authors"==e?r.a.createElement("div",{className:"App container"},b()(this.state.content)):this.state.err?r.a.createElement("div",{className:"App container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",{className:"text-center"},"Couldn't find the post you are looking for"),r.a.createElement("h3",{className:"text-center"},"Double check your link!")):r.a.createElement("div",{className:"App container"},r.a.createElement("br",null),this.state.content?r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},this.state.title),r.a.createElement("h3",{className:"text-center"},this.state.name?"By: "+this.state.name+" - "+this.state.date.toLocaleDateString()+"   "+this.state.date.toLocaleTimeString():null),r.a.createElement("br",null),b()(this.state.content),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{className:"text-center"},"Comments:"),r.a.createElement("br",null),this.commentInput(),this.state.comments&&this.state.comments.length>0?this.state.comments:r.a.createElement("p",null,r.a.createElement("em",null,"No comments yet. You could be the first!")),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(w,null))}}]),a}(r.a.Component);a(105);function I(){return r.a.createElement(l.a,{basename:"/clarity"},r.a.createElement("div",null,r.a.createElement("nav",{class:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(l.b,{to:"/",style:{color:"white"}},r.a.createElement("a",{class:"navbar-brand"},"A Lack Of Clarity")),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item active"},r.a.createElement(l.b,{to:"/"},r.a.createElement("a",{class:"nav-link",href:"#"},"Home ",r.a.createElement("span",{class:"sr-only"},"(current)")))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(l.b,{to:"/about"},r.a.createElement("a",{class:"nav-link",href:"#"},"About"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(l.b,{to:"/authors"},r.a.createElement("a",{class:"nav-link",href:"#"},"Authors")))))),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/:postId",component:O}),r.a.createElement(o.a,{exact:!0,path:"/",component:N}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports=a(106)},55:function(e,t,a){},80:function(e,t){}},[[50,1,2]]]);
//# sourceMappingURL=main.76d77dc8.chunk.js.map